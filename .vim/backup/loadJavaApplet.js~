
var appletElem;
var appletId = "japplet";


function loadApplet(node, appName, width, height) {
    if (appletElem != null) return;

    appletElem        = document.createElement('applet');
    appletElem.code   = appName;
    appletElem.width  = width;
    appletElem.height = height;
    appletElem.id     = appletId;
    appletElem.style.display = "block";

    node.appendChild(appletElem);
}

// hrefの内容をid以下に表示する
// (その際に空白などをHTML用に変換する)
function showSource(href, id) {
    requestHttp(
        function (http) {
            $(id).style.backgroundColor = "#DDD";
            var codeText = http.responseText;
            // HTML用に変換
            codeText = codeText.replace(
                /(\s)/g,
                function (text, space) {
                    return space == '\n' ?
                           '<br />' :
                           space == ' ' ?
                           '&nbsp;' :
                           space == '\t' ?
                           '    ' :    // タブ幅は4
                           space;
                }
            );
            $(id).innerHTML = codeText;
        },
        "GET",
        href
    );
}
