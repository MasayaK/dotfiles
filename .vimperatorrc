let mapleader = ','
so $HOME/.vimperatorrc.local

colorscheme vimplight

"-----------------------------------------------------------------
" set!とかいろいろ {{{1

" via http://retlet.net/log/2008/06/awesomebar-bookmarklet.html
set! browser.urlbar.filter.javascript=false
set! browser.urlbar.maxRichResults=50
" disable accesskey
" set! ui.key.generalAccessKey=0
" open bookmarks in background
set! browser.tabs.loadBookmarksInBackground=true

set! ui.caretWidth=1
set! ui.caretBlinkTime=1000

set! browser.tabs.closeWindowWithLastTab=false


" ScrapBook
" (:menuで選択したものが次回起動時に消える)
"
" command! AutoScrap         :autocmd  PageLoad .* menu ScrapBook-ページの取り込み
" command! DisableAutoScrap  :autocmd! PageLoad .*

" }}}1
"-----------------------------------------------------------------
" set {{{1

set activate=homepage
set complete=sfl
" set complete=sflH
" set focuscontent
set guioptions=nbr
set hlsearch
set ignorecase
set incsearch
set nextpattern+=\b次
set noinsertmode
set previouspattern+=\b前
set scroll=8
set smartcase
set titlestring=Firefox
set visualbell
set wildoptions=auto

"ヒントのスタイルを指定
" set hintstyle=z-index:5000; font-family:monospace; font-size:12px; color:white; background-color:blue; border-color:ButtonShadow; border-width:0px; border-style:solid; padding:0px 1px 0px 1px; position:absolute;
"ヒント(フォーカス時)のスタイルを指定
" set focusedhintstyle=z-index:5000; font-family:monospace; font-size:12px; color:ButtonText; background-color:ButtonShadow; border-color:ButtonShadow; border-width:1px; border-style:solid; padding:0px 1px 0px 1px; position:absolute;


" }}}1
"-----------------------------------------------------------------
" map {{{1
"
" NOTE: <silent>つけるとむしろ遅いorz

" ~ noremap ~ {{{2
noremap <F5>    <Nop>
noremap <BS>    <Nop>

" 上下移動
noremap j   4<C-e>
noremap k   4<C-y>
noremap J   <C-d>
noremap K   <C-u>

" タブ移動
noremap <Right> :tabmove! +1<CR>
noremap <Left>  :tabmove! -1<CR>

" Escで中止
noremap <Esc>   <C-c>

" 戻れるように
noremap gg      mzgg
noremap G       mzG

" フレーム内移動
noremap <C-,>   [f
noremap <C-.>   ]f

" 選択文字列のコピー
noremap <C-c>   Y
" 選択文字列のgoogle検索
noremap <C-g>   YP


" vimperatorだとincsearchのとき
" マッチしなかった場合元の位置に戻らない
noremap /   mz/

noremap <Leader>gf     :tab normal gf<CR>

noremap !       :set invum<CR>

noremap <C-i>   <C-o>
noremap <C-o>   <C-i>

" }}}2

" ~ c ~ {{{2
cnoremap <C-c>          <C-v><C-c><Home><S-End><Del>echo "yank!"<CR>
cnoremap <C-x>          <C-v><C-x>
cnoremap <C-v>          <S-Insert>
cnoremap <C-r><C-r>     <S-Insert>
" 履歴
cnoremap <C-n>      <Down>
cnoremap <C-p>      <Up>
" 移動
cnoremap <C-a>      <Home>
cnoremap <C-e>      <End>
cnoremap <C-d>      <Del>
cnoremap <C-f>      <Right>
cnoremap <C-b>      <Left>
" }}}2

" }}}1
"-----------------------------------------------------------------
" qmark {{{1
" もっと複雑なURLのページを登録した方がqmarkの意味があると思うんだけども

qmark m http://mail.google.com/mail?hl=ja
qmark r http://www.google.co.jp/reader/view/

qmark n http://tyru.yu-nagi.com/

qmark h http://www.hatena.ne.jp/
qmark H http://hatenadiary.g.hatena.ne.jp/keyword/%e3%81%af%e3%81%a6%e3%81%aa%e8%a8%98%e6%b3%95%e4%b8%80%e8%a6%a7

qmark d http://delicious.com/tyru/
qmark p http://www.pixiv.net/mypage.php
qmark P http://pipes.yahoo.com/pipes/
qmark t http://twitter.com/
qmark T http://tyru.tumblr.com/

qmark z bml-niconico-mp3
" }}}1
"-----------------------------------------------------------------
" abbr {{{1
cabbrev h@       tab help
" }}}1
"-----------------------------------------------------------------
" command {{{1
" homeを開く
command! Dir    !explorer %HOME%
" }}}1
"-----------------------------------------------------------------
" autocmd {{{1
autocmd VimperatorEnter .* pluginmanager update
" }}}1
"-----------------------------------------------------------------
" プラグイン {{{1

" direct_bookmark.js
let direct_sbm_use_services_by_tag  = "d"
let direct_sbm_use_services_by_post = "hd"
let direct_sbm_is_use_migemo = 1
noremap a   :sbm<Space>
noremap B   :tab bentry<CR>


" sbmcommentsviewer.js
let def_sbm_format = "id,timestamp,tags,comment"
let def_sbms       = "h"
noremap b   :viewSBMComments<CR>


" migemo_hint.js
set hintmatching=custom


" multi_requester.js
noremap <C-k>   :mr<Space>
noremap <Leader>tw     :mr twitter-timeline<CR>


" ime_controller.js
let ex_ime_mode = "inactive"  
let textarea_ime_mode = "inactive"


" copy.js
noremap <Leader>cy      :copy titleAndURL<CR>
noremap <Leader>ct      :copy title<CR>
noremap <Leader>co      :copy<Space>


" command_menu.js
" noremap g,t      :toolbar<Space>
" noremap g,m      :menu<Space>


" stella.js & nicontroller.js
noremap <Leader>nc      :nicomment<Space>
noremap <Leader>ni      :nicoinfo<CR>
noremap <Leader>np      :stplay<CR>
noremap <Leader>nr      :strepeat<CR>
noremap <Leader>nm      :stmute<CR>
noremap <Leader>nv      :nicommentvisible<CR>
noremap <Leader>nz      :stfullscreen<CR>
noremap <Leader>ns      :stseek!<Space>
noremap <Leader>n+      :stvolume! +10<CR>
noremap <Leader>n-      :stvolume! -10<CR>


" appendAnchor.js
let auto_append_anchor_once = "true"


" nextlink.js
let nextlink_nositeinfo_act = "f"


" foxytunes.js
noremap <Leader>fp  :ftplay<CR>
noremap <Leader>fs  :ftpause<CR>
noremap <Leader>ff  :ftnext<CR>
noremap <Leader>fb  :ftprevious<CR>
noremap <Leader>fv  :ftvolume<Space>


" toggler.js
js <<EOM
liberator.globalVariables.toggler = {
  go: ["set go=nbr","set go=nbrmBT"],
  sb: ["sbclose","sbar Add-ons","sbar Console","sbar Downloads","sbar Preferences"],
  go_and_sb: [
    ["set go=","sbclose"],
    ["set go=mTb","sbar Console"]
  ],
};
EOM

noremap <Leader>tg      :toggle go<CR>
noremap <Leader>ts      :toggle sb<CR>


" feedSomeKeys_2.js

autocmd LocationChange .* :fmapc

" add ! l gl
autocmd LocationChange 'mail\.google\.com/mail' :fmap -depth 4 c / j k n p o u e x s r a # [ ] z ! ? gi gs gt gd ga gc <C-s> l gl
" add J K N P a
autocmd LocationChange 'www\.google\.co\.jp/reader' :fmap -vkey a j k J K n p N P m s t v A r S N P X O gh ga gs gt gu u / ?
" remove f <Esc> i d + - <Tab> <S-Tab>
autocmd LocationChange 'www\.rememberthemilk\.com\/home\/tyru\/' :fmap -vkey a m c n p r g s h t u j y <Del> k z l 1 2 3 4 <C-S-Left> <C-S-Right> <C-S-0> <C-S-6> <C-S-7> <C-S-8> <C-S-9> <C-S-l> <Left> <Right> <Up> <Down> <PageUp> <PageDown> <Home> <End> <C-S-/>


" hatena-bookmark-search.js
let g:hatena_bookmark_no_migemo = 'true';
" let g:hatena_bookmark_suffix_array = 'true';

" }}}1
"-----------------------------------------------------------------

" vim:fdm=marker:fen:ft=vimperator:
